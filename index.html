<!DOCTYPE html>
<html>
<head>

	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>TFM OMR Visualizador OGD</title>
	<link href="css/styles.css" rel="stylesheet" type="text/css" />
	<script type="text/javascript" src="d3/d3.v3.js"></script>
	<script src="d3/d3-time.v1.min.js"></script>
    <script src="d3/d3-time-format.v2.min.js"></script>
	<!--<script src="http://labratrevenge.com/d3-tip/javascripts/d3.tip.v0.6.3.js"></script>-->
	<!--<script src="http://d3js.org/d3.v3.min.js"></script>-->
	
	<script src="datasetsLoad2.js"></script>
	<script src="comportamientos.js"></script>
	<script src="MenusFiltro.js"></script>
	<script src="testAutomatizacion2.js"></script>
	<script src="testAutomatizacion_Evolution.js"></script>
	<script src="testAutomatizacion_VariacionAnual.js"></script>


	<script src="functions/FILTRADO4.js"></script>
	<script src="functions/functionsControlMenusFiltros4.js"></script>
	<script src="functions/functionsCONTROL4.js"></script>

	<script src="functions/functionsRenderBarChart_test.js"></script>


	<script src="functions/functionsLayoutVentanas2.js"></script>
	

	<script src="functions/functionsGestionFiltros_y_Ventanas5.js"></script>
	<script src="functions/functionsEquivalencias.js"></script>
	<script src="functions/functionsRenderEvolution5.js"></script>
	<script src="functions/functionsControlVistasCoordinadas.js"></script>


	<script src="functions/functionsRenderEvolucionMensual4.js"></script>

	<script src="functions/functionsVistasCoordinadas.js"></script>


	<script src="functions/functionsRenderVariacionAnual2.js"></script>
	<script src="functions/functionsRenderVariacionAnual_MENSUAL4.js"></script>

	<script src="functions/infoGraficos.js"></script>
	<script src="functions/functionsTooltips.js"></script>
	<script src="functions/textosTooltips.js"></script>
	

<script type="text/javascript">
// colores
var colorNoActiva = "E0E0E0"//"f2f2f2"
var colorActiva = "ffffff"//"f4c56d"
var colorSlaveActivo = "F9EEDC"
var colorSlaveNoActivo = "d6c7ab"
var colorMasterNoActivo = "d6c7ab"
var colorMasterActivo = "FFFEF4"//"E1E2FF"//"EEEFFF"
var colorSinGrafico = "848484"
var arrastre // control color arrastro de menu
//var TEST = automaticInput("22")

var resumenMATtest
//var estadoFiltro
var controlEVOLUTION=false;
var VARIACIONANUAL

var TANTOPORCIEN
var untilYear;
var fromYear;
var ambitoGeoIni = ["vacío", "Ciutat Vella","Eixample", "Sants-Montjuïc",  
                  "Les Corts", "Sarrià-Sant Gervasi", "Gràcia", "Horta-Guinardó",
                  "Nou Barris", "Sant Andreu", "Sant Martí"]
var FAeropuertoIni = ["Total", "Nacional","Internacional"]
var FTemperaturaIni = ["media", "minima", "maxima"]
var FTurSexoIni = ["hombres","mujeres"]
var FTurEdadIni = ["de 15 a 17","de 18 a 24","de 25 a 34","de 35 a 44","de 45 a 54","55 o mas"]
var FTurGastoIni = ["transporte","alojamiento","estancia"]
var FTurMotivoIni = ["Vacacional-Ocio","Profesional","Personal y otros"]
var FTurAlojamientoIni = ["Hoteles","Pensiones y hostales"]
var FTurRepeIni = ["primeraVisita","segundaVisita","teceraOmas","NSNC"]
var FTurTransporteIni = ["avion","coche","ferrocarril","autocar","otros"]
var FBcnEcoTrabajadoresSectorIni = ["afiliados","agricultura","industria","construccion","servicios"]
var FBcnEcoSituacionLaboralIni = ["asalariados","autonomos","paroRegistrado"]
var FBcnEcoPIBIni = ["barcelona"]
var FBcnEcoSalariosSectorIni = ["salarioMedio","vacío","vacío","vacío","vacío","vacío","hosteleria","vacío","vacío",
								"vacío","vacío","vacío","vacío","vacío","vacío","vacío","vacío"]

var FTurRNumReunionIni = ["congresos","convenciones"]
var FTurRAsisReunionIni = ["congresos","convenciones"]
var FTurAloHNumHPIni = ["total_1a3","total_4y5","pensionesHostales"]
var FTurAloHPlazasHPIni = ["total_1a3","total_4y5","pensionesHostales"]
var FTurCultTopIni = ["sagradaFamilia","parqueGuell","museuFCB","vacío","vacío","vacío","vacío","vacío","vacío","vacío","vacío","vacío","vacío","vacío"]
var FTurCultELleureIni = ["parqueAtraccionesTibidabo","parqueLaberintHorta","miradorColon"]
var FTurCultArquitecturaIni = ["Basílica de la Sagrada Familia","Park Güell","Poble Espanyol de Barcelona","Casa Batlló","La Pedrera","Castell de Montjuïc","Espais Patrimonials de MUHBA","Casa-Museu Gaudí (Park Güell)","Palau Güell","Recinte Modernista de Sant Pau","Palau de la Música Catalana","Pavelló Mies van der Rohe","Gran Teatre del Liceu (rutes guiades)"]



var FTurCultExpoIni = ["CaixaForum","Palau Robert","CCCB","Arts Santa Mònica","Fundación MAPFRE","La Virreina","La Capella","Arxiu Històric","Arxiu Fotogràfic","CAC Fabra i Coats","Funcació Vila Casas"]
var FTurCultMuseosIni = ["Museu FC Barcelona","L'Aquàrium de Barcelona","El Born Centre Cultural","Museu Picasso","Parc Zoològic de Barcelona","Museu d'Història de Barcelona MUHBA","CosmoCaixa Barcelona","Museu Nacional d'Art de Catalunya MNAC","Fundació Joan Miró","Museu d'Art Contemporani de Barcelona MACBA","Museu Egipci de Barcelona","Museu Marítim de Barcelona MMB","Museu del Disseny de Barcelona","Fundació Fran Daurel","Museu de Cera de Barcelona","Museu Blau","Museu d'Història de Catalunya","Museu dels Autòmats del Tibidabo","Museu de la Xocolata"]
var FTurCultTransportesIni = ["Bus Turístico","Teleférico Montjuïc","Barcelona City Tour","Funicular Tibidabo","Las Golondrinas","Tranvía Blau"]
var FTurCultResumenIni = ["Total Museus i Col.leccions (MC)","Total Centres d´exposicions (CE)","Total Espais de lleure (ELL)","Total Espais d´interès Arquitectònic (EIA)","Total Transports singulars (TS)"]
var FTurRFeriasIni = ["Saló Internacional De L'Automóbil","Barcelona Harley Days","Saló Del Manga","Saló Internacional del Còmic de Barcelona","Sónar","Oktoberfest Bcn","Cosmobelleza & Wellness","Mobile World Congress","Saló de L'Ensenyament","Festival De La Infància"]

var FTurPNacionalidadIni=["vacío","España","Alemania","vacío","Francia","Italia","vacío","Reino Unido","vacío","vacío","vacío","vacío","vacío","vacío","Estados Unidos de América","vacío","vacío","vacío"]

var FBcnPobEdadesIni=["de 0 a 20","de 20-39","de 40-59","de 60-79","más de 80"]
var FBcnPobNacionIni=["vacío","Italia","francia","vacío","Marruecos","vacío","vacío","vacío","vacío","Pakistán","China","vacío","vacío"]
var FBcnPobDistrIni=["Barcelona"]
var FBcnPobTestIni=["vacío", "Ciutat Vella","Eixample", "Sants-Montjuïc",  
                  "Les Corts", "Sarrià-Sant Gervasi", "Gràcia", "Horta-Guinardó",
                  "Nou Barris", "Sant Andreu", "Sant Martí"]

var resumen;
var resumenMATini= [{Ventana:1 ,Seguimiento:null,PrimeraVez:"",Idgrafico:"noG",filtro:ambitoGeoIni,
					desdeYear:"6666",hastaYear:"9999",ordenado:"NO",porcentaje:"NO",variacionAnual:"NO",
					FAeropuerto:FAeropuertoIni,FTemperatura:FTemperaturaIni,FTurSexo:FTurSexoIni,FTurEdad:FTurEdadIni,
					FTurGasto:FTurGastoIni,FTurMotivo:FTurMotivoIni,FTurAlojamiento:FTurAlojamientoIni,FTurRepe:FTurRepeIni,
					FTurTransporte:FTurTransporteIni,FBcnEcoTrabajadoresSector:FBcnEcoTrabajadoresSectorIni,
					FBcnEcoSituacionLaboral:FBcnEcoSituacionLaboralIni,FBcnEcoPIB:FBcnEcoPIBIni,FBcnEcoSalariosSector:FBcnEcoSalariosSectorIni,
					FTurRNumReunion:FTurRNumReunionIni,FTurRAsisReunion:FTurRAsisReunionIni,FTurAloHNumHP:FTurAloHNumHPIni,
					FTurAloHPlazasHP:FTurAloHPlazasHPIni,FTurCultTop:FTurCultTopIni,FTurCultELleure:FTurCultELleureIni,FTurCultArquitectura:FTurCultArquitecturaIni,FTurCultExpo:FTurCultExpoIni,FTurCultMuseos:FTurCultMuseosIni,
					FTurCultTransportes:FTurCultTransportesIni,FTurCultResumen:FTurCultResumenIni,FTurRFerias:FTurRFeriasIni,
					FTurPNacionalidad:FTurPNacionalidadIni,FBcnPobEdades:FBcnPobEdadesIni,FBcnPobNacion:FBcnPobNacionIni,FBcnPobDistr:FBcnPobDistrIni,
					FBcnPobTest:FBcnPobTestIni,ambitoGeoNuevoFiltro:"NO"},
					
					{Ventana:21,Seguimiento:null,PrimeraVez:"",Idgrafico:"noG",filtro:ambitoGeoIni,
					desdeYear:"6666",hastaYear:"9999",ordenado:"NO",porcentaje:"NO",variacionAnual:"NO",
					FAeropuerto:FAeropuertoIni,FTemperatura:FTemperaturaIni,FTurSexo:FTurSexoIni,FTurEdad:FTurEdadIni,
					FTurGasto:FTurGastoIni,FTurMotivo:FTurMotivoIni,FTurAlojamiento:FTurAlojamientoIni,FTurRepe:FTurRepeIni,
					FTurTransporte:FTurTransporteIni,FBcnEcoTrabajadoresSector:FBcnEcoTrabajadoresSectorIni,
					FBcnEcoSituacionLaboral:FBcnEcoSituacionLaboralIni,FBcnEcoPIB:FBcnEcoPIBIni,FBcnEcoSalariosSector:FBcnEcoSalariosSectorIni,
					FTurRNumReunion:FTurRNumReunionIni,FTurRAsisReunion:FTurRAsisReunionIni,FTurAloHNumHP:FTurAloHNumHPIni,
					FTurAloHPlazasHP:FTurAloHPlazasHPIni,FTurCultTop:FTurCultTopIni,FTurCultELleure:FTurCultELleureIni,FTurCultArquitectura:FTurCultArquitecturaIni,FTurCultExpo:FTurCultExpoIni,FTurCultMuseos:FTurCultMuseosIni,
					FTurCultTransportes:FTurCultTransportesIni,FTurCultResumen:FTurCultResumenIni,FTurRFerias:FTurRFeriasIni,
					FTurPNacionalidad:FTurPNacionalidadIni,FBcnPobEdades:FBcnPobEdadesIni,FBcnPobNacion:FBcnPobNacionIni,FBcnPobDistr:FBcnPobDistrIni,
					FBcnPobTest:FBcnPobTestIni,ambitoGeoNuevoFiltro:"NO"},
					
					{Ventana:22,Seguimiento:null,PrimeraVez:"",Idgrafico:"noG",filtro:ambitoGeoIni,
					desdeYear:"6666",hastaYear:"9999",ordenado:"NO",porcentaje:"NO",variacionAnual:"NO",
					FAeropuerto:FAeropuertoIni,FTemperatura:FTemperaturaIni,FTurSexo:FTurSexoIni,FTurEdad:FTurEdadIni,
					FTurGasto:FTurGastoIni,FTurMotivo:FTurMotivoIni,FTurAlojamiento:FTurAlojamientoIni,FTurRepe:FTurRepeIni,
					FTurTransporte:FTurTransporteIni,FBcnEcoTrabajadoresSector:FBcnEcoTrabajadoresSectorIni,
					FBcnEcoSituacionLaboral:FBcnEcoSituacionLaboralIni,FBcnEcoPIB:FBcnEcoPIBIni,FBcnEcoSalariosSector:FBcnEcoSalariosSectorIni,
					FTurRNumReunion:FTurRNumReunionIni,FTurRAsisReunion:FTurRAsisReunionIni,FTurAloHNumHP:FTurAloHNumHPIni,
					FTurAloHPlazasHP:FTurAloHPlazasHPIni,FTurCultTop:FTurCultTopIni,FTurCultELleure:FTurCultELleureIni,FTurCultArquitectura:FTurCultArquitecturaIni,FTurCultExpo:FTurCultExpoIni,FTurCultMuseos:FTurCultMuseosIni,
					FTurCultTransportes:FTurCultTransportesIni,FTurCultResumen:FTurCultResumenIni,FTurRFerias:FTurRFeriasIni,
					FTurPNacionalidad:FTurPNacionalidadIni,FBcnPobEdades:FBcnPobEdadesIni,FBcnPobNacion:FBcnPobNacionIni,FBcnPobDistr:FBcnPobDistrIni,
					FBcnPobTest:FBcnPobTestIni,ambitoGeoNuevoFiltro:"NO"},
					
					{Ventana:41,Seguimiento:null,PrimeraVez:"",Idgrafico:"noG",filtro:ambitoGeoIni,
					desdeYear:"6666",hastaYear:"9999",ordenado:"NO",porcentaje:"NO",variacionAnual:"NO",
					FAeropuerto:FAeropuertoIni,FTemperatura:FTemperaturaIni,FTurSexo:FTurSexoIni,FTurEdad:FTurEdadIni,
					FTurGasto:FTurGastoIni,FTurMotivo:FTurMotivoIni,FTurAlojamiento:FTurAlojamientoIni,FTurRepe:FTurRepeIni,
					FTurTransporte:FTurTransporteIni,FBcnEcoTrabajadoresSector:FBcnEcoTrabajadoresSectorIni,
					FBcnEcoSituacionLaboral:FBcnEcoSituacionLaboralIni,FBcnEcoPIB:FBcnEcoPIBIni,FBcnEcoSalariosSector:FBcnEcoSalariosSectorIni,
					FTurRNumReunion:FTurRNumReunionIni,FTurRAsisReunion:FTurRAsisReunionIni,FTurAloHNumHP:FTurAloHNumHPIni,
					FTurAloHPlazasHP:FTurAloHPlazasHPIni,FTurCultTop:FTurCultTopIni,FTurCultELleure:FTurCultELleureIni,FTurCultArquitectura:FTurCultArquitecturaIni,FTurCultExpo:FTurCultExpoIni,FTurCultMuseos:FTurCultMuseosIni,
					FTurCultTransportes:FTurCultTransportesIni,FTurCultResumen:FTurCultResumenIni,FTurRFerias:FTurRFeriasIni,
					FTurPNacionalidad:FTurPNacionalidadIni,FBcnPobEdades:FBcnPobEdadesIni,FBcnPobNacion:FBcnPobNacionIni,FBcnPobDistr:FBcnPobDistrIni,
					FBcnPobTest:FBcnPobTestIni,ambitoGeoNuevoFiltro:"NO"},
					
					{Ventana:42,Seguimiento:null,PrimeraVez:"",Idgrafico:"noG",filtro:ambitoGeoIni,
					desdeYear:"6666",hastaYear:"9999",ordenado:"NO",porcentaje:"NO",variacionAnual:"NO",
					FAeropuerto:FAeropuertoIni,FTemperatura:FTemperaturaIni,FTurSexo:FTurSexoIni,FTurEdad:FTurEdadIni,
					FTurGasto:FTurGastoIni,FTurMotivo:FTurMotivoIni,FTurAlojamiento:FTurAlojamientoIni,FTurRepe:FTurRepeIni,
					FTurTransporte:FTurTransporteIni,FBcnEcoTrabajadoresSector:FBcnEcoTrabajadoresSectorIni,
					FBcnEcoSituacionLaboral:FBcnEcoSituacionLaboralIni,FBcnEcoPIB:FBcnEcoPIBIni,FBcnEcoSalariosSector:FBcnEcoSalariosSectorIni,
					FTurRNumReunion:FTurRNumReunionIni,FTurRAsisReunion:FTurRAsisReunionIni,FTurAloHNumHP:FTurAloHNumHPIni,
					FTurAloHPlazasHP:FTurAloHPlazasHPIni,FTurCultTop:FTurCultTopIni,FTurCultELleure:FTurCultELleureIni,FTurCultArquitectura:FTurCultArquitecturaIni,FTurCultExpo:FTurCultExpoIni,FTurCultMuseos:FTurCultMuseosIni,
					FTurCultTransportes:FTurCultTransportesIni,FTurCultResumen:FTurCultResumenIni,FTurRFerias:FTurRFeriasIni,
					FTurPNacionalidad:FTurPNacionalidadIni,FBcnPobEdades:FBcnPobEdadesIni,FBcnPobNacion:FBcnPobNacionIni,FBcnPobDistr:FBcnPobDistrIni,
					FBcnPobTest:FBcnPobTestIni,ambitoGeoNuevoFiltro:"NO"},
					
					{Ventana:43,Seguimiento:null,PrimeraVez:"",Idgrafico:"noG",filtro:ambitoGeoIni,
					desdeYear:"6666",hastaYear:"9999",ordenado:"NO",porcentaje:"NO",variacionAnual:"NO",
					FAeropuerto:FAeropuertoIni,FTemperatura:FTemperaturaIni,FTurSexo:FTurSexoIni,FTurEdad:FTurEdadIni,
					FTurGasto:FTurGastoIni,FTurMotivo:FTurMotivoIni,FTurAlojamiento:FTurAlojamientoIni,FTurRepe:FTurRepeIni,
					FTurTransporte:FTurTransporteIni,FBcnEcoTrabajadoresSector:FBcnEcoTrabajadoresSectorIni,
					FBcnEcoSituacionLaboral:FBcnEcoSituacionLaboralIni,FBcnEcoPIB:FBcnEcoPIBIni,FBcnEcoSalariosSector:FBcnEcoSalariosSectorIni,
					FTurRNumReunion:FTurRNumReunionIni,FTurRAsisReunion:FTurRAsisReunionIni,FTurAloHNumHP:FTurAloHNumHPIni,
					FTurAloHPlazasHP:FTurAloHPlazasHPIni,FTurCultTop:FTurCultTopIni,FTurCultELleure:FTurCultELleureIni,FTurCultArquitectura:FTurCultArquitecturaIni,FTurCultExpo:FTurCultExpoIni,FTurCultMuseos:FTurCultMuseosIni,
					FTurCultTransportes:FTurCultTransportesIni,FTurCultResumen:FTurCultResumenIni,FTurRFerias:FTurRFeriasIni,
					FTurPNacionalidad:FTurPNacionalidadIni,FBcnPobEdades:FBcnPobEdadesIni,FBcnPobNacion:FBcnPobNacionIni,FBcnPobDistr:FBcnPobDistrIni,
					FBcnPobTest:FBcnPobTestIni,ambitoGeoNuevoFiltro:"NO"},
					
					{Ventana:44,Seguimiento:null,PrimeraVez:"",Idgrafico:"noG",filtro:ambitoGeoIni,
					desdeYear:"6666",hastaYear:"9999",ordenado:"NO",porcentaje:"NO",variacionAnual:"NO",
					FAeropuerto:FAeropuertoIni,FTemperatura:FTemperaturaIni,FTurSexo:FTurSexoIni,FTurEdad:FTurEdadIni,
					FTurGasto:FTurGastoIni,FTurMotivo:FTurMotivoIni,FTurAlojamiento:FTurAlojamientoIni,FTurRepe:FTurRepeIni,
					FTurTransporte:FTurTransporteIni,FBcnEcoTrabajadoresSector:FBcnEcoTrabajadoresSectorIni,
					FBcnEcoSituacionLaboral:FBcnEcoSituacionLaboralIni,FBcnEcoPIB:FBcnEcoPIBIni,FBcnEcoSalariosSector:FBcnEcoSalariosSectorIni,
					FTurRNumReunion:FTurRNumReunionIni,FTurRAsisReunion:FTurRAsisReunionIni,FTurAloHNumHP:FTurAloHNumHPIni,
					FTurAloHPlazasHP:FTurAloHPlazasHPIni,FTurCultTop:FTurCultTopIni,FTurCultELleure:FTurCultELleureIni,FTurCultArquitectura:FTurCultArquitecturaIni,FTurCultExpo:FTurCultExpoIni,FTurCultMuseos:FTurCultMuseosIni,
					FTurCultTransportes:FTurCultTransportesIni,FTurCultResumen:FTurCultResumenIni,FTurRFerias:FTurRFeriasIni,
					FTurPNacionalidad:FTurPNacionalidadIni,FBcnPobEdades:FBcnPobEdadesIni,FBcnPobNacion:FBcnPobNacionIni,FBcnPobDistr:FBcnPobDistrIni,
					FBcnPobTest:FBcnPobTestIni,ambitoGeoNuevoFiltro:"NO"}];

var resumenMAT=[{Ventana:1 ,Seguimiento:null,PrimeraVez:"",Idgrafico:"noG",filtro:ambitoGeoIni,desdeYear:"6666",hastaYear:"3333",ordenado:"NO",porcentaje:"NO",variacionAnual:"NO",FAeropuerto:FAeropuertoIni,FTemperatura:FTemperaturaIni,
			FTurSexo:FTurSexoIni,FTurEdad:FTurEdadIni,FTurGasto:FTurGastoIni,FTurMotivo:FTurMotivoIni,FTurAlojamiento:FTurAlojamientoIni,FTurRepe:FTurRepeIni,FTurTransporte:FTurTransporteIni,
			FBcnEcoTrabajadoresSector:FBcnEcoTrabajadoresSectorIni,FBcnEcoSituacionLaboral:FBcnEcoSituacionLaboralIni,FBcnEcoPIB:FBcnEcoPIBIni,FBcnEcoSalariosSector:FBcnEcoSalariosSectorIni,FTurRNumReunion:FTurRNumReunionIni,FTurRAsisReunion:FTurRAsisReunionIni,FTurAloHNumHP:FTurAloHNumHPIni,FTurAloHPlazasHP:FTurAloHPlazasHPIni,FTurCultTop:FTurCultTopIni,FTurCultELleure:FTurCultELleureIni,FTurCultArquitectura:FTurCultArquitecturaIni,
				FTurCultExpo:FTurCultExpoIni,FTurCultMuseos:FTurCultMuseosIni,
					FTurCultTransportes:FTurCultTransportesIni,FTurCultResumen:FTurCultResumenIni,FTurRFerias:FTurRFeriasIni,
				FTurPNacionalidad:FTurPNacionalidadIni,FBcnPobEdades:FBcnPobEdadesIni,FBcnPobNacion:FBcnPobNacionIni,FBcnPobDistr:FBcnPobDistrIni,FBcnPobTest:FBcnPobTestIni,ambitoGeoNuevoFiltro:"NO"},
				
				{Ventana:21,Seguimiento:null,PrimeraVez:"",Idgrafico:"noG",filtro:ambitoGeoIni,desdeYear:"6666",hastaYear:"3333",ordenado:"NO",porcentaje:"NO",variacionAnual:"NO",FAeropuerto:FAeropuertoIni,FTemperatura:FTemperaturaIni,
			FTurSexo:FTurSexoIni,FTurEdad:FTurEdadIni,FTurGasto:FTurGastoIni,FTurMotivo:FTurMotivoIni,FTurAlojamiento:FTurAlojamientoIni,FTurRepe:FTurRepeIni,FTurTransporte:FTurTransporteIni,
			FBcnEcoTrabajadoresSector:FBcnEcoTrabajadoresSectorIni,FBcnEcoSituacionLaboral:FBcnEcoSituacionLaboralIni,FBcnEcoPIB:FBcnEcoPIBIni,FBcnEcoSalariosSector:FBcnEcoSalariosSectorIni,FTurRNumReunion:FTurRNumReunionIni,FTurRAsisReunion:FTurRAsisReunionIni,FTurAloHNumHP:FTurAloHNumHPIni,FTurAloHPlazasHP:FTurAloHPlazasHPIni,FTurCultTop:FTurCultTopIni,FTurCultELleure:FTurCultELleureIni,FTurCultArquitectura:FTurCultArquitecturaIni,
				FTurCultExpo:FTurCultExpoIni,FTurCultMuseos:FTurCultMuseosIni,
					FTurCultTransportes:FTurCultTransportesIni,FTurCultResumen:FTurCultResumenIni,FTurRFerias:FTurRFeriasIni,
				FTurPNacionalidad:FTurPNacionalidadIni,FBcnPobEdades:FBcnPobEdadesIni,FBcnPobNacion:FBcnPobNacionIni,FBcnPobDistr:FBcnPobDistrIni,FBcnPobTest:FBcnPobTestIni,ambitoGeoNuevoFiltro:"NO"},
				
				{Ventana:22,Seguimiento:null,PrimeraVez:"",Idgrafico:"noG",filtro:ambitoGeoIni,desdeYear:"6666",hastaYear:"3333",ordenado:"NO",porcentaje:"NO",variacionAnual:"NO",FAeropuerto:FAeropuertoIni,FTemperatura:FTemperaturaIni,
			FTurSexo:FTurSexoIni,FTurEdad:FTurEdadIni,FTurGasto:FTurGastoIni,FTurMotivo:FTurMotivoIni,FTurAlojamiento:FTurAlojamientoIni,FTurRepe:FTurRepeIni,FTurTransporte:FTurTransporteIni,
			FBcnEcoTrabajadoresSector:FBcnEcoTrabajadoresSectorIni,FBcnEcoSituacionLaboral:FBcnEcoSituacionLaboralIni,FBcnEcoPIB:FBcnEcoPIBIni,FBcnEcoSalariosSector:FBcnEcoSalariosSectorIni,FTurRNumReunion:FTurRNumReunionIni,FTurRAsisReunion:FTurRAsisReunionIni,FTurAloHNumHP:FTurAloHNumHPIni,FTurAloHPlazasHP:FTurAloHPlazasHPIni,FTurCultTop:FTurCultTopIni,FTurCultELleure:FTurCultELleureIni,FTurCultArquitectura:FTurCultArquitecturaIni,
				FTurCultExpo:FTurCultExpoIni,FTurCultMuseos:FTurCultMuseosIni,
					FTurCultTransportes:FTurCultTransportesIni,FTurCultResumen:FTurCultResumenIni,FTurRFerias:FTurRFeriasIni,
				FTurPNacionalidad:FTurPNacionalidadIni,FBcnPobEdades:FBcnPobEdadesIni,FBcnPobNacion:FBcnPobNacionIni,FBcnPobDistr:FBcnPobDistrIni,FBcnPobTest:FBcnPobTestIni,ambitoGeoNuevoFiltro:"NO"},
				
				{Ventana:41,Seguimiento:null,PrimeraVez:"",Idgrafico:"noG",filtro:ambitoGeoIni,desdeYear:"6666",hastaYear:"3333",ordenado:"NO",porcentaje:"NO",variacionAnual:"NO",FAeropuerto:FAeropuertoIni,FTemperatura:FTemperaturaIni,
			FTurSexo:FTurSexoIni,FTurEdad:FTurEdadIni,FTurGasto:FTurGastoIni,FTurMotivo:FTurMotivoIni,FTurAlojamiento:FTurAlojamientoIni,FTurRepe:FTurRepeIni,FTurTransporte:FTurTransporteIni,
			FBcnEcoTrabajadoresSector:FBcnEcoTrabajadoresSectorIni,FBcnEcoSituacionLaboral:FBcnEcoSituacionLaboralIni,FBcnEcoPIB:FBcnEcoPIBIni,FBcnEcoSalariosSector:FBcnEcoSalariosSectorIni,FTurRNumReunion:FTurRNumReunionIni,FTurRAsisReunion:FTurRAsisReunionIni,FTurAloHNumHP:FTurAloHNumHPIni,FTurAloHPlazasHP:FTurAloHPlazasHPIni,FTurCultTop:FTurCultTopIni,FTurCultELleure:FTurCultELleureIni,FTurCultArquitectura:FTurCultArquitecturaIni,
				FTurCultExpo:FTurCultExpoIni,FTurCultMuseos:FTurCultMuseosIni,
					FTurCultTransportes:FTurCultTransportesIni,FTurCultResumen:FTurCultResumenIni,FTurRFerias:FTurRFeriasIni,
				FTurPNacionalidad:FTurPNacionalidadIni,FBcnPobEdades:FBcnPobEdadesIni,FBcnPobNacion:FBcnPobNacionIni,FBcnPobDistr:FBcnPobDistrIni,FBcnPobTest:FBcnPobTestIni,ambitoGeoNuevoFiltro:"NO"},
				
				{Ventana:42,Seguimiento:null,PrimeraVez:"",Idgrafico:"noG",filtro:ambitoGeoIni,desdeYear:"6666",hastaYear:"3333",ordenado:"NO",porcentaje:"NO",variacionAnual:"NO",FAeropuerto:FAeropuertoIni,FTemperatura:FTemperaturaIni,
			FTurSexo:FTurSexoIni,FTurEdad:FTurEdadIni,FTurGasto:FTurGastoIni,FTurMotivo:FTurMotivoIni,FTurAlojamiento:FTurAlojamientoIni,FTurRepe:FTurRepeIni,FTurTransporte:FTurTransporteIni,
			FBcnEcoTrabajadoresSector:FBcnEcoTrabajadoresSectorIni,FBcnEcoSituacionLaboral:FBcnEcoSituacionLaboralIni,FBcnEcoPIB:FBcnEcoPIBIni,FBcnEcoSalariosSector:FBcnEcoSalariosSectorIni,FTurRNumReunion:FTurRNumReunionIni,FTurRAsisReunion:FTurRAsisReunionIni,FTurAloHNumHP:FTurAloHNumHPIni,FTurAloHPlazasHP:FTurAloHPlazasHPIni,FTurCultTop:FTurCultTopIni,FTurCultELleure:FTurCultELleureIni,FTurCultArquitectura:FTurCultArquitecturaIni,
				FTurCultExpo:FTurCultExpoIni,FTurCultMuseos:FTurCultMuseosIni,
					FTurCultTransportes:FTurCultTransportesIni,FTurCultResumen:FTurCultResumenIni,FTurRFerias:FTurRFeriasIni,
				FTurPNacionalidad:FTurPNacionalidadIni,FBcnPobEdades:FBcnPobEdadesIni,FBcnPobNacion:FBcnPobNacionIni,FBcnPobDistr:FBcnPobDistrIni,FBcnPobTest:FBcnPobTestIni,ambitoGeoNuevoFiltro:"NO"},
				
				{Ventana:43,Seguimiento:null,PrimeraVez:"",Idgrafico:"noG",filtro:ambitoGeoIni,desdeYear:"6666",hastaYear:"3333",ordenado:"NO",porcentaje:"NO",variacionAnual:"NO",FAeropuerto:FAeropuertoIni,FTemperatura:FTemperaturaIni,
			FTurSexo:FTurSexoIni,FTurEdad:FTurEdadIni,FTurGasto:FTurGastoIni,FTurMotivo:FTurMotivoIni,FTurAlojamiento:FTurAlojamientoIni,FTurRepe:FTurRepeIni,FTurTransporte:FTurTransporteIni,
			FBcnEcoTrabajadoresSector:FBcnEcoTrabajadoresSectorIni,FBcnEcoSituacionLaboral:FBcnEcoSituacionLaboralIni,FBcnEcoPIB:FBcnEcoPIBIni,FBcnEcoSalariosSector:FBcnEcoSalariosSectorIni,FTurRNumReunion:FTurRNumReunionIni,FTurRAsisReunion:FTurRAsisReunionIni,FTurAloHNumHP:FTurAloHNumHPIni,FTurAloHPlazasHP:FTurAloHPlazasHPIni,FTurCultTop:FTurCultTopIni,FTurCultELleure:FTurCultELleureIni,FTurCultArquitectura:FTurCultArquitecturaIni,
				FTurCultExpo:FTurCultExpoIni,FTurCultMuseos:FTurCultMuseosIni,
					FTurCultTransportes:FTurCultTransportesIni,FTurCultResumen:FTurCultResumenIni,FTurRFerias:FTurRFeriasIni,
				FTurPNacionalidad:FTurPNacionalidadIni,FBcnPobEdades:FBcnPobEdadesIni,FBcnPobNacion:FBcnPobNacionIni,FBcnPobDistr:FBcnPobDistrIni,FBcnPobTest:FBcnPobTestIni,ambitoGeoNuevoFiltro:"NO"},
				
				{Ventana:44,Seguimiento:null,PrimeraVez:"",Idgrafico:"noG",filtro:ambitoGeoIni,desdeYear:"6666",hastaYear:"3333",ordenado:"NO",porcentaje:"NO",variacionAnual:"NO",FAeropuerto:FAeropuertoIni,FTemperatura:FTemperaturaIni,
			FTurSexo:FTurSexoIni,FTurEdad:FTurEdadIni,FTurGasto:FTurGastoIni,FTurMotivo:FTurMotivoIni,FTurAlojamiento:FTurAlojamientoIni,FTurRepe:FTurRepeIni,FTurTransporte:FTurTransporteIni,
			FBcnEcoTrabajadoresSector:FBcnEcoTrabajadoresSectorIni,FBcnEcoSituacionLaboral:FBcnEcoSituacionLaboralIni,FBcnEcoPIB:FBcnEcoPIBIni,FBcnEcoSalariosSector:FBcnEcoSalariosSectorIni,FTurRNumReunion:FTurRNumReunionIni,FTurRAsisReunion:FTurRAsisReunionIni,FTurAloHNumHP:FTurAloHNumHPIni,FTurAloHPlazasHP:FTurAloHPlazasHPIni,FTurCultTop:FTurCultTopIni,FTurCultELleure:FTurCultELleureIni,FTurCultArquitectura:FTurCultArquitecturaIni,
				FTurCultExpo:FTurCultExpoIni,FTurCultMuseos:FTurCultMuseosIni,
					FTurCultTransportes:FTurCultTransportesIni,FTurCultResumen:FTurCultResumenIni,FTurRFerias:FTurRFeriasIni,
				FTurPNacionalidad:FTurPNacionalidadIni,FBcnPobEdades:FBcnPobEdadesIni,FBcnPobNacion:FBcnPobNacionIni,FBcnPobDistr:FBcnPobDistrIni,FBcnPobTest:FBcnPobTestIni,ambitoGeoNuevoFiltro:"NO"}];


var datos;

var graphicId;
var graphic01;
var graphic02;

</script>	


	<script>
		// variables globales
		var workFrame; // ventana a la que se ha arrastrado gráfico
		var ID_VIP; // nombre del contenedor del gráfico
		var caso42;
		var workFrameM = [];
		////////////////////
		
		function allowDrop(ev) {
		    ev.preventDefault();
		}

		function drag(ev) {
			
		    ev.dataTransfer.setData("text", ev.target.id);
		}
		function drop(ev) {	

			//ev.preventDefault();
			//document.getElementById(ev.target.id).innerHTML="";

		    d3.select(ev.target).html("") //borra los elementos
		    var data = ev.dataTransfer.getData("text");

		    var htmlElement = ev.target.nodeName //OBTENGO EL TIPO DE ELEMENTO HTML.
			var rr = ev.target
			
		    if (htmlElement=="H3" || htmlElement=="svg"||htmlElement=="rect"||htmlElement=="g"||htmlElement=="text"){
		    	 rr = ev.target.parentNode
		    	}
		    ev.target = rr

		    ID_VIP = rr.id // variable que contiene el id del recuadro donde estoy. Debo crear el gráfico dentro !!
		    var el = document.getElementById(rr.id); 
		    
		    
		    //* MARCO VENTANA ACTIVA EN EL MENÚ DE NAVEGACIÓN
		    switch(ID_VIP) {
			    case "gr4_1":
			    	d3.select("#gr4_1").select("#gr4_1Close").remove()
			    	d3.select("#gr4_1").select("#Icono_gr4_1").remove()
			    	d3.select("#gr4_1").append("img").attr("id","gr4_1Close").attr("align","right").attr("src","img/iconTancar.svg").attr("height","10px")
			    		.attr("onclick","borrarGrafico('gr4_1Close')") // borrarGrafico está en comportamientos.js
			    	//d3.select("#gr4_1").select("#gr4_1Close").remove()
			    	d3.select("#gr4_1").append("g").attr("id","infoGroup41")
			    		.append("img").attr("id","Icono_gr4_1").attr("src","img/information.svg").attr("height","20px")
			    		.attr("align","right").style("margin-right","5px").style("margin-top","5px")
			    		.attr("onmouseover","infoGrafico('Icono_gr4_1')")
			    	    .on("mouseout", function() {
							//Hide the tooltip
							d3.select("#tooltip").classed("hidden", true);
			   			})

			    	workFrame = 41;
					miColorVentanaActiva("41")
					
			        break;
			    case "gr4_2":
			    	d3.select("#gr4_2").select("#gr4_2Close").remove()
			    	d3.select("#gr4_2").select("#Icono_gr4_2").remove()
			    	d3.select("#gr4_2").append("img").attr("id","gr4_2Close").attr("align","right").attr("src","img/iconTancar.svg").attr("height","10px")
			    		.attr("onclick","borrarGrafico('gr4_2Close')") // borrarGrafico está en comportamientos.js
			    	d3.select("#gr4_2").append("img").attr("id","Icono_gr4_2").attr("align","right").attr("src","img/information.svg").attr("height","20px")
			    		.style("margin-right","5px").style("margin-top","5px")
			    		.attr("onmouseover","infoGrafico('Icono_gr4_2')")
			    		.on("mouseout", function() {
							//Hide the tooltip
							d3.select("#tooltip").classed("hidden", true);
			   			})
			    	workFrame = 42;	        
					miColorVentanaActiva("42")

			        break;
			    case "gr4_3":
			    	d3.select("#gr4_3").select("#gr4_3Close").remove()
			    	d3.select("#gr4_3").select("#Icono_gr4_3").remove()
			    	d3.select("#gr4_3").append("img").attr("id","gr4_3Close").attr("align","right").attr("src","img/iconTancar.svg").attr("height","10px")
			    		.attr("onclick","borrarGrafico('gr4_3Close')") // borrarGrafico está en comportamientos.js
			    	d3.select("#gr4_3").append("img").attr("id","Icono_gr4_3").attr("align","right").attr("src","img/information.svg").attr("height","20px")
			    		.style("margin-right","5px").style("margin-top","5px")
			    		.attr("onmouseover","infoGrafico('Icono_gr4_3')")
			    		.on("mouseout", function() {
							//Hide the tooltip
							d3.select("#tooltip").classed("hidden", true);
			   			})
			    	workFrame = 43;	 
					miColorVentanaActiva("43")
			        break;
			    case "gr4_4":
			    	d3.select("#gr4_4").select("#gr4_4Close").remove()
			    	d3.select("#gr4_4").select("#Icono_gr4_4").remove()
			    	d3.select("#gr4_4").append("img").attr("id","gr4_4Close").attr("align","right").attr("src","img/iconTancar.svg").attr("height","10px")
			    		.attr("onclick","borrarGrafico('gr4_4Close')") // borrarGrafico está en comportamientos.js
			    	d3.select("#gr4_4").append("img").attr("id","Icono_gr4_4").attr("align","right").attr("src","img/information.svg").attr("height","20px")
			    		.style("margin-right","5px").style("margin-top","5px")
			    		.attr("onmouseover","infoGrafico('Icono_gr4_4')")
			    		.on("mouseout", function() {
							//Hide the tooltip
							d3.select("#tooltip").classed("hidden", true);
			   			})
			    	workFrame = 44;	 
					miColorVentanaActiva("44")
			        break;
			    case "gr_1":
			    	d3.select("#gr_1").select("#gr_1Close").remove()
			    	d3.select("#gr_1").select("#Icono_gr_1").remove()
			    	d3.select("#gr_1").append("img").attr("id","gr_1Close").attr("align","right").attr("src","img/iconTancar.svg").attr("height","10px")
			    		.attr("onclick","borrarGrafico('gr_1Close')") // borrarGrafico está en comportamientos.js
			    	d3.select("#gr_1").append("img").attr("id","Icono_gr_1").attr("align","right").attr("src","img/information.svg").attr("height","20px")
			    		.style("margin-right","5px").style("margin-top","5px")
			    		.attr("onmouseover","infoGrafico('Icono_gr_1')")
			    		.on("mouseout", function() {
							//Hide the tooltip
							d3.select("#tooltip").classed("hidden", true);
			   			})
			    	workFrame = 21;
       				miColorVentanaActiva("21")
			        break;
		        case "gr_2":
       				d3.select("#gr_2").select("#gr_2Close").remove()
			    	d3.select("#gr_2").select("#Icono_gr_2").remove()
			    	d3.select("#gr_2").append("img").attr("id","gr_2Close").attr("align","right").attr("src","img/iconTancar.svg").attr("height","10px")
			    		.attr("onclick","borrarGrafico('gr_2Close')") // borrarGrafico está en comportamientos.js       				
       				d3.select("#gr_2").append("img").attr("id","Icono_gr_2").attr("align","right").attr("src","img/information.svg").attr("height","20px")
			    		.style("margin-right","5px").style("margin-top","5px")
			    		.attr("onmouseover","infoGrafico('Icono_gr_2')")
			    		.on("mouseout", function() {
							//Hide the tooltip
							d3.select("#tooltip").classed("hidden", true);
			   			})
       				miColorVentanaActiva("22")
			    	workFrame = 22;	        
			        break;
		        case "gr1":
			    	d3.select("#gr1").select("#gr1Close").remove()
			    	d3.select("#gr1").select("#Icono_gr1").remove()
			    	d3.select("#gr1").append("img").attr("id","gr1Close").attr("align","right").attr("src","img/iconTancar.svg").attr("height","10px")
			    		.attr("onclick","borrarGrafico('gr1Close')") // borrarGrafico está en comportamientos.js
			    	d3.select("#gr1").append("img").attr("id","Icono_gr1").attr("align","right").attr("src","img/information.svg").attr("height","20px")
			    		.style("margin-right","5px").style("margin-top","5px")
			    		.attr("onmouseover","infoGrafico('Icono_gr1')")
			    		.on("mouseout", function() {
							//Hide the tooltip
							d3.select("#tooltip").classed("hidden", true);
			   			})
			    	workFrame = 1
			    	arrastre="SI"
					miColorVentanaActiva("1")
			        break;

			    default:
			        console.log("default")
			}

			//* SEGÚN SEA EL ÍTEM ARRASTRADO
		    switch(data) {
			    case "menuBarcelona":
			        	d3.select(rr).selectAll("h1").remove()
			        	d3.select(rr).selectAll("img").remove()
			    		d3.select(rr).selectAll("svg").remove()
			        break;
			    case "menuClima":
		        		document.getElementById("navegadorDiv").innerHTML=""; // borro todo el contenido del div del navegador
		        		datos = graphic12;
		        		loadMenu("12")
		        		
		        		graphicId = "12";
		        		ambitoGeo = ambitoGeoIni;
			    		fromYear = "2015"
	   		          	untilYear = "2015"
	   		          	
	   		          	controlEVOLUTION=true;
	   		          	SORT="NO"
	   		         	TANTOPORCIEN = "NO"
	   		          	var PrimeraVez = "SI"
	   		          	VARIACIONANUAL = "NO"
   				resumenMAT = updateSeguimientoUnaLinea(ID_VIP,resumenMAT,workFrame,ambitoGeo,fromYear,untilYear,
   							PrimeraVez,SORT,TANTOPORCIEN,VARIACIONANUAL,{})
   						
////////////////////////////////
						ctrlPrimera = "SI"
						ventanaPrimera = workFrame
						
   						if (ventanaPrimera=="41"||ventanaPrimera=="42"||
							ventanaPrimera=="43"||ventanaPrimera=="44"){
							seleccionWindow4([], [],ctrlPrimera,ventanaPrimera)	
						}
   						if (ventanaPrimera=="21"||ventanaPrimera=="22"){
							seleccionWindow2([], [],ctrlPrimera,ventanaPrimera)	
						}
						if (ventanaPrimera=="1"){
							activar3("gr1")	
						}
						
////////////////////////////////////////////

			    		CONTROL_primeraVez="SI";

		        		//* update filtro: Marco sus opciones de menú
		        		updateFiltroNavegador(ambitoGeo,fromYear, untilYear)
		        		//* registro en resumenMAT[ventana activa] los settings 
		
			        break;
			    case "menuInfraestructuras":
		        		document.getElementById("navegadorDiv").innerHTML=""; // borro todo el contenido del div del navegador
		        		datos = graphic10;
		        		loadMenu("10")
		        		
		        		graphicId = "10";
		        		ambitoGeo = ambitoGeoIni;
			    		fromYear = "2015"
	   		          	untilYear = "2016"
	   		          	
	   		          	controlEVOLUTION=true;
	   		          	SORT="NO"
	   		         	TANTOPORCIEN = "NO"
	   		          	var PrimeraVez = "SI"
	   		          	VARIACIONANUAL = "NO"
   				resumenMAT = updateSeguimientoUnaLinea(ID_VIP,resumenMAT,workFrame,ambitoGeo,fromYear,untilYear,
   							PrimeraVez,SORT,TANTOPORCIEN,VARIACIONANUAL,{})
   						
////////////////////////////////
						ctrlPrimera = "SI"
						ventanaPrimera = workFrame
						
   						if (ventanaPrimera=="41"||ventanaPrimera=="42"||
							ventanaPrimera=="43"||ventanaPrimera=="44"){
							seleccionWindow4([], [],ctrlPrimera,ventanaPrimera)	
						}
   						if (ventanaPrimera=="21"||ventanaPrimera=="22"){
							seleccionWindow2([], [],ctrlPrimera,ventanaPrimera)	
						}
						if (ventanaPrimera=="1"){
							activar3("gr1")	
						}
						
////////////////////////////////////////////

			    		CONTROL_primeraVez="SI";

		        		//* update filtro: Marco sus opciones de menú
		        		updateFiltroNavegador(ambitoGeo,fromYear, untilYear)
		        		//* registro en resumenMAT[ventana activa] los settings 
		
			        break;
		        	case "menuPoblacion":
		        		document.getElementById("navegadorDiv").innerHTML=""; // borro todo el contenido del div del navegador
		        		//loadMenu("01")
		        		
		        		/*datos = graphic01;
	   		          	graphicId = "01";*/

						datos = graphic45;
	   		          	graphicId = "45";

	   		          	ambitoGeo = ambitoGeoIni;
	   		          	untilYear = "2016"
	   		          	fromYear = "2016"
	   		          	controlEVOLUTION=false;
	   		          	SORT="NO"
	   		         	TANTOPORCIEN = "SI"
	   		          	var PrimeraVez = "SI"
	   		          	VARIACIONANUAL = "NO"
   				resumenMAT = updateSeguimientoUnaLinea(ID_VIP,resumenMAT,workFrame,ambitoGeo,fromYear,untilYear,
   							PrimeraVez,SORT,TANTOPORCIEN,VARIACIONANUAL,{})
////////////////////////////////
						ctrlPrimera = "SI"
						ventanaPrimera = workFrame
   						if (ventanaPrimera=="41"||ventanaPrimera=="42"||
							ventanaPrimera=="43"||ventanaPrimera=="44"){
							seleccionWindow4([], [],ctrlPrimera,ventanaPrimera)	
						}
   						if (ventanaPrimera=="21"||ventanaPrimera=="22"){
							seleccionWindow2([], [],ctrlPrimera,ventanaPrimera)	
						}
						if (ventanaPrimera=="1"){
							activar3("gr1")	
						}
////////////////////////////////////////////

			    		CONTROL_primeraVez="SI";
			    		//loadMenu("01")
			    		loadMenu("45")
		        		//* update filtro: Marco sus opciones de menú
		        		updateFiltroNavegador(ambitoGeo,fromYear, untilYear)
		        		//* registro en resumenMAT[ventana activa] los settings 
		        		
			        break;
			    
			    case "menuVivienda":
		        		document.getElementById("navegadorDiv").innerHTML=""; // borro todo el contenido del div del navegador
		        		//loadMenu("49")
		        		//datos = graphic49;
		        		

			    		ambitoGeo = ambitoGeoIni;
			    		
	   		          	//graphicId = "07";
	   		          	graphicId = "49";
	   		          	untilYear = "2015"
	   		          	fromYear = "2015"
	   		          	controlEVOLUTION=false;
	   		          	SORT="NO"
	   		          	TANTOPORCIEN = "NO"
	   		          	var PrimeraVez = "SI"
	   		          	VARIACIONANUAL = "NO"

   			resumenMAT = updateSeguimientoUnaLinea(ID_VIP,resumenMAT,workFrame,ambitoGeo,fromYear,untilYear,
   							PrimeraVez,SORT,TANTOPORCIEN,VARIACIONANUAL,{})

   						loadMenu("49")
		        		datos = graphic49;
						////////////////////////////////////////////////////////////////////							
						ctrlPrimera = "SI"
						ventanaPrimera = workFrame
						
						
						if (ventanaPrimera=="41"||ventanaPrimera=="42"||
							ventanaPrimera=="43"||ventanaPrimera=="44"){
							seleccionWindow4([], [],ctrlPrimera,ventanaPrimera)	
						}
   						if (ventanaPrimera=="21"||ventanaPrimera=="22"){
							seleccionWindow2([], [],ctrlPrimera,ventanaPrimera)	
						}
						if (ventanaPrimera=="1"){
							//alert("lanzar funcion activar 3")
							activar3("gr1")	
						}
						

						////////////////////////////////////////////////////////////////////	
						

			    		CONTROL_primeraVez="SI";

		        		//* update filtro: Marco sus opciones de menú
		        		updateFiltroNavegador(ambitoGeo,fromYear, untilYear)
		        		//* registro en resumenMAT[ventana activa] los settings 
		
			        break;		
			    case "menuEconomia":
		        		document.getElementById("navegadorDiv").innerHTML=""; // borro todo el contenido del div del navegador
		        		//alert("cargar Economia")
		        		loadMenu("21")
		        		

		        		graphicId = "21";
		        		ambitoGeo = ambitoGeoIni;
			    		fromYear = "2010"
	   		          	untilYear = "2015"
	   		          	
	   		          	controlEVOLUTION=true;
	   		          	SORT="NO"
	   		         	TANTOPORCIEN = "NO"
	   		          	var PrimeraVez = "SI"
	   		          	VARIACIONANUAL = "NO"
   				resumenMAT = updateSeguimientoUnaLinea(ID_VIP,resumenMAT,workFrame,ambitoGeo,fromYear,untilYear,
   							PrimeraVez,SORT,TANTOPORCIEN,VARIACIONANUAL,{})
   						
////////////////////////////////
						ctrlPrimera = "SI"
						ventanaPrimera = workFrame
						
   						if (ventanaPrimera=="41"||ventanaPrimera=="42"||
							ventanaPrimera=="43"||ventanaPrimera=="44"){
							seleccionWindow4([], [],ctrlPrimera,ventanaPrimera)	
						}
   						if (ventanaPrimera=="21"||ventanaPrimera=="22"){
							seleccionWindow2([], [],ctrlPrimera,ventanaPrimera)	
						}
						if (ventanaPrimera=="1"){
							activar3("gr1")	
						}
						
////////////////////////////////////////////

			    		CONTROL_primeraVez="SI";

		        		//* update filtro: Marco sus opciones de menú
		        		updateFiltroNavegador(ambitoGeo,fromYear, untilYear)
		        		//* registro en resumenMAT[ventana activa] los settings 

			        break;		

			    case "menuTurismo":
			        	d3.select(rr).selectAll("h1").remove()
			        	d3.select(rr).selectAll("img").remove()
			    		d3.select(rr).selectAll("svg").remove()
			        break;	    
			    case "menuTurista":
		        		/*document.getElementById("navegadorDiv").innerHTML=""; // borro todo el contenido del div del navegador
		        		loadMenu("14")

		        		datos = graphic14;
			    		ambitoGeo = ambitoGeoIni;
			    		
	   		          	graphicId = "14";
	   		          	untilYear = "2016"
	   		          	fromYear = "2006"
	   		          	controlEVOLUTION=false;
	   		          	SORT="NO"
	   		          	TANTOPORCIEN = "NO"
	   		          	var PrimeraVez = "SI"
	   		          	VARIACIONANUAL = "NO"
	   		          	resumenMAT[3].Idgrafico= graphicId // ho he de treure després
	   		          	resumenMAT[3].FTurSexo=["hombres","mujeres"] // ho he de treure després
	   		          	renderEvolucionAnual(datos,fromYear, untilYear,3) // ho he de treure després
		        		*/
		        		document.getElementById("navegadorDiv").innerHTML=""; // borro todo el contenido del div del navegador
		        		datos = graphic14; 
		        		loadMenu("14")
		        		
		        		

		        		graphicId = "14";
		        		ambitoGeo = ambitoGeoIni;
			    		fromYear = "2015"
	   		          	untilYear = "2016"
	   		          	
	   		          	controlEVOLUTION=true;
	   		          	SORT="NO"
	   		         	TANTOPORCIEN = "NO"
	   		          	var PrimeraVez = "SI"
	   		          	VARIACIONANUAL = "NO"
   				resumenMAT = updateSeguimientoUnaLinea(ID_VIP,resumenMAT,workFrame,ambitoGeo,fromYear,untilYear,
   							PrimeraVez,SORT,TANTOPORCIEN,VARIACIONANUAL,{})
   						
////////////////////////////////
						ctrlPrimera = "SI"
						ventanaPrimera = workFrame
						
   						if (ventanaPrimera=="41"||ventanaPrimera=="42"||
							ventanaPrimera=="43"||ventanaPrimera=="44"){
							seleccionWindow4([], [],ctrlPrimera,ventanaPrimera)	
						}
   						if (ventanaPrimera=="21"||ventanaPrimera=="22"){
							seleccionWindow2([], [],ctrlPrimera,ventanaPrimera)	
						}
						if (ventanaPrimera=="1"){
							activar3("gr1")	
						}
						
////////////////////////////////////////////

			    		CONTROL_primeraVez="SI";

		        		//* update filtro: Marco sus opciones de menú
		        		updateFiltroNavegador(ambitoGeo,fromYear, untilYear)
		        		//* registro en resumenMAT[ventana activa] los settings 
		
			        break;	   
			    case "menuTurAlojamiento":

		        		document.getElementById("navegadorDiv").innerHTML=""; // borro todo el contenido del div del navegador
		        		datos = graphic29; 
		        		loadMenu("29")
		        		
		        		

		        		graphicId = "29";
		        		ambitoGeo = ambitoGeoIni;
			    		fromYear = "2010"
	   		          	untilYear = "2015"
	   		          	
	   		          	controlEVOLUTION=true;
	   		          	SORT="NO"
	   		         	TANTOPORCIEN = "NO"
	   		          	var PrimeraVez = "SI"
	   		          	VARIACIONANUAL = "NO"
   				resumenMAT = updateSeguimientoUnaLinea(ID_VIP,resumenMAT,workFrame,ambitoGeo,fromYear,untilYear,
   							PrimeraVez,SORT,TANTOPORCIEN,VARIACIONANUAL,{})
   						
////////////////////////////////
						ctrlPrimera = "SI"
						ventanaPrimera = workFrame
						
   						if (ventanaPrimera=="41"||ventanaPrimera=="42"||
							ventanaPrimera=="43"||ventanaPrimera=="44"){
							seleccionWindow4([], [],ctrlPrimera,ventanaPrimera)	
						}
   						if (ventanaPrimera=="21"||ventanaPrimera=="22"){
							seleccionWindow2([], [],ctrlPrimera,ventanaPrimera)	
						}
						if (ventanaPrimera=="1"){
							activar3("gr1")	
						}
						
////////////////////////////////////////////

			    		CONTROL_primeraVez="SI";

		        		//* update filtro: Marco sus opciones de menú
		        		updateFiltroNavegador(ambitoGeo,fromYear, untilYear)
		        		//* registro en resumenMAT[ventana activa] los settings 
		
			        break;	
			    case "menuTurCultural":

		        		document.getElementById("navegadorDiv").innerHTML=""; // borro todo el contenido del div del navegador
		        		datos = graphic31; 
		        		loadMenu("31")
		        		
		        		

		        		graphicId = "31";
		        		ambitoGeo = ambitoGeoIni;
			    		fromYear = "2010"
	   		          	untilYear = "2015"
	   		          	
	   		          	controlEVOLUTION=true;
	   		          	SORT="NO"
	   		         	TANTOPORCIEN = "NO"
	   		          	var PrimeraVez = "SI"
	   		          	VARIACIONANUAL = "NO"
   				resumenMAT = updateSeguimientoUnaLinea(ID_VIP,resumenMAT,workFrame,ambitoGeo,fromYear,untilYear,
   							PrimeraVez,SORT,TANTOPORCIEN,VARIACIONANUAL,{})
   						
////////////////////////////////
						ctrlPrimera = "SI"
						ventanaPrimera = workFrame
						
   						if (ventanaPrimera=="41"||ventanaPrimera=="42"||
							ventanaPrimera=="43"||ventanaPrimera=="44"){
							seleccionWindow4([], [],ctrlPrimera,ventanaPrimera)	
						}
   						if (ventanaPrimera=="21"||ventanaPrimera=="22"){
							seleccionWindow2([], [],ctrlPrimera,ventanaPrimera)	
						}
						if (ventanaPrimera=="1"){
							activar3("gr1")	
						}
						
////////////////////////////////////////////

			    		CONTROL_primeraVez="SI";

		        		//* update filtro: Marco sus opciones de menú
		        		updateFiltroNavegador(ambitoGeo,fromYear, untilYear)
		        		//* registro en resumenMAT[ventana activa] los settings 
		
			        break;				           			        

			    case "menuTurReuniones":

		        		document.getElementById("navegadorDiv").innerHTML=""; // borro todo el contenido del div del navegador
		        		datos = graphic25; 
		        		loadMenu("25")
		        		
		        		

		        		graphicId = "25";
		        		ambitoGeo = ambitoGeoIni;
			    		fromYear = "2010"
	   		          	untilYear = "2015"
	   		          	
	   		          	controlEVOLUTION=true;
	   		          	SORT="NO"
	   		         	TANTOPORCIEN = "NO"
	   		          	var PrimeraVez = "SI"
	   		          	VARIACIONANUAL = "NO"
   				resumenMAT = updateSeguimientoUnaLinea(ID_VIP,resumenMAT,workFrame,ambitoGeo,fromYear,untilYear,
   							PrimeraVez,SORT,TANTOPORCIEN,VARIACIONANUAL,{})
   						
////////////////////////////////
						ctrlPrimera = "SI"
						ventanaPrimera = workFrame
						
   						if (ventanaPrimera=="41"||ventanaPrimera=="42"||
							ventanaPrimera=="43"||ventanaPrimera=="44"){
							seleccionWindow4([], [],ctrlPrimera,ventanaPrimera)	
						}
   						if (ventanaPrimera=="21"||ventanaPrimera=="22"){
							seleccionWindow2([], [],ctrlPrimera,ventanaPrimera)	
						}
						if (ventanaPrimera=="1"){
							activar3("gr1")	
						}
						
////////////////////////////////////////////

			    		CONTROL_primeraVez="SI";

		        		//* update filtro: Marco sus opciones de menú
		        		updateFiltroNavegador(ambitoGeo,fromYear, untilYear)
		        		//* registro en resumenMAT[ventana activa] los settings 
		
			        break;				           			        
			        /*case "pruebasMenu2":
		        		document.getElementById("navegadorDiv").innerHTML=""; // borro todo el contenido del div del navegador
		        		loadMenu("02")

		        		datos = graphic02;
			    		ambitoGeo = ambitoGeoIni;
			    		
	   		          	graphicId = "02";
	   		          	untilYear = "2015"
	   		          	fromYear = "2015"
	   		          	controlEVOLUTION=false;
	   		          	SORT="NO"
	   		          	TANTOPORCIEN = "NO"
	   		          	var PrimeraVez = "SI"
	   		          	VARIACIONANUAL = "NO"
   			resumenMAT = updateSeguimientoUnaLinea(ID_VIP,resumenMAT,workFrame,ambitoGeo,fromYear,untilYear,
   							PrimeraVez,SORT,TANTOPORCIEN,VARIACIONANUAL,{})
						////////////////////////////////////////////////////////////////////							
						ctrlPrimera = "SI"
						ventanaPrimera = workFrame
						if (ventanaPrimera=="41"||ventanaPrimera=="42"||
							ventanaPrimera=="43"||ventanaPrimera=="44"){
							seleccionWindow4([], [],ctrlPrimera,ventanaPrimera)	
						}
   						if (ventanaPrimera=="21"||ventanaPrimera=="22"){
							seleccionWindow2([], [],ctrlPrimera,ventanaPrimera)	
						}
						if (ventanaPrimera=="1"){
							//alert("lanzar funcion activar 3")
							activar3("gr1")	
						}
						////////////////////////////////////////////////////////////////////	

			    		CONTROL_primeraVez="SI";

		        		//* update filtro: Marco sus opciones de menú
		        		updateFiltroNavegador(ambitoGeo,fromYear, untilYear)
		        		//* registro en resumenMAT[ventana activa] los settings 
		        		
			        break;*/
			    default:
			        console.log("default")
			}

		}
</script>
<script type="text/javascript">

	function BorrarTodo(){
		//document.getElementById("navegadorDiv").innerHTML=""
		d3.select("#areaGraficos").selectAll("div").select("h1").remove();
		d3.select("#areaGraficos").selectAll("div").select("img").remove();
		d3.select("#areaGraficos").selectAll("div").select("svg").remove();
		d3.select("#areaGraficos").selectAll("div").select("h3").remove();
		d3.select("#areaGraficos").selectAll("div").select("h3").remove();
		d3.select("#areaGraficos").selectAll("g").remove();
		d3.select("#Icono_gr4_1").remove();
		d3.select("#Icono_gr4_2").remove();
		d3.select("#Icono_gr4_3").remove();
		d3.select("#Icono_gr4_4").remove();
		d3.select("#Icono_gr_1").remove();
		d3.select("#Icono_gr_2").remove();
		d3.select("#Icono_gr1").remove();
		
		document.getElementById("navegadorDiv").innerHTML=""; 
		d3.select("#gr1").style("background-color","#" + colorSinGrafico)
		d3.select("#gr_1").style("background-color","#" + colorSinGrafico)
		d3.select("#gr_2").style("background-color","#" + colorSinGrafico)
		d3.select("#gr4_1").style("background-color","#" + colorSinGrafico)
		d3.select("#gr4_2").style("background-color","#" + colorSinGrafico)
		d3.select("#gr4_3").style("background-color","#" + colorSinGrafico)
		d3.select("#gr4_4").style("background-color","#" + colorSinGrafico)

		d3.select("#gr1").style("border-color","black")
		d3.select("#gr_1").style("border-color","black")
		d3.select("#gr_2").style("border-color","black")
		d3.select("#gr4_1").style("border-color","black")
		d3.select("#gr4_2").style("border-color","black")
		d3.select("#gr4_3").style("border-color","black")
		d3.select("#gr4_4").style("border-color","black")
		resumenMAT=resumenMATini;
		if (document.getElementById("window41")!=null){ CreateCuatroGraficos()}
		if (document.getElementById("window21")!=null){ CreateDosGraficos()}
	}


</script>

</head>

<body onload="load()">
<div id="tooltipEncInfraestructuras" class="hidden"> <!-- para el tooltip del encabezado infraestructuras
	<!--<p><strong>Important Label Heading</strong></p>-->
	<p><span id="value"></span></p>
</div>
<div id="tooltipEncPictografia" class="hidden"> <!-- para el tooltip del encabezado infraestructuras
	<!--<p><strong>Important Label Heading</strong></p>-->
	<p><span id="value"></span></p>
</div>

<div id="tooltip" class="hidden"> <!-- para el tooltip de infoGrafico
	<!--<p><strong>Important Label Heading</strong></p>-->
	<p><span id="value"></span></p>
</div>
<div id="tooltipBarra" class="hidden"> <!-- para el tooltip de gráficos de barras
	<!--<p><strong>Important Label Heading</strong></p>-->
	<p><span id="valueBarra"></span></p>
</div>
<div id="tooltipEvolucion" class="hidden"> <!-- para el tooltip de gráficos de evolucion
	<!--<p><strong>Important Label Heading</strong></p>-->
	<p><span id="valueEvolucion"></span></p>
</div>
<div id="tooltipVA" class="hidden"> <!-- para el tooltip de gráficos de evolucion
	<!--<p><strong>Important Label Heading</strong></p>-->
	<p><span id="valueVA"></span></p>
</div>
<div id="tooltipMenuPpal" class="hidden"> <!-- para el tooltip de gráficos de evolucion
	<!--<p><strong>Important Label Heading</strong></p>-->
	<p><span id="valueMenuPpal"></span></p>
</div>
<div id="tooltipMapa" class="hidden"> <!-- para el tooltip del mapa
	<!--<p><strong>Important Label Heading</strong></p>-->
	<img height="80px" src="img/homer-simpson.svg" align="left"/>
</div>


		<div id="contenedor">
		<div id="encabezado">
			
			<DIV id="enc_bcn">
				<h1>BARCELONA</h1>
				<div>
					<!--<img height="80px" src="img/homer-simpson.svg" align="left"/>-->
					<SCRIPT TYPE="text/javascript">
						
		          		///// Temperaturas
		          		d3.select("#enc_bcn").append("div").classed("encTemperatura",true)
		          		d3.select(".encTemperatura").append("g").attr("id","TempGrupo")
		          			.append("img").attr("src","img/icona_temperatura-01.svg")
		          				.attr("width","17%")
		          				.attr("align","right")
		          				.attr("id","PicMinima")
		          				.on("mouseover", function() {
									//Hide the tooltip
										//d3.select("#tooltipMapa").classed("hidden", false);
										tooltipsPictografia ("PicMinima")
			   						})
		          				.on("mouseout", function() {
									//Hide the tooltip
										d3.select("#tooltipEncPictografia").classed("hidden", true);
			   						})
		          		
		          		
						d3.select("#TempGrupo").append("text").text("9-12 ºC").attr("align","left")
						d3.select("#TempGrupo").append("br")
						


						d3.select("#TempGrupo").selectAll("br").data([1,2,3]).enter().append("br")
						d3.select("#TempGrupo").append("img")
							.attr("src","img/icona_temperatura-02-01.svg")
		          				.attr("width","17%")
		          				.attr("align","right")
		          				.attr("id","PicMaxima")
		          				.on("mouseover", function() {
									//Hide the tooltip
										//d3.select("#tooltipMapa").classed("hidden", false);
										tooltipsPictografia ("PicMaxima")
			   						})
		          				.on("mouseout", function() {
									//Hide the tooltip
										d3.select("#tooltipEncPictografia").classed("hidden", true);
			   						})

		          		d3.select("#TempGrupo").append("text").text("23-30 ºC").attr("align","left")
		          		d3.select("#TempGrupo").selectAll("br").data([1,2,3,4,5,6]).enter().append("br")
		          		
						d3.select("#TempGrupo").append("img")
							.attr("src","img/icona_pluja-01.svg")
		          				.attr("width","25%")
		          				.attr("align","right")
		          				.attr("id","PicLluvia")
		          				.on("mouseover", function() {
									//Hide the tooltip
										//d3.select("#tooltipMapa").classed("hidden", false);
										tooltipsPictografia ("PicLluvia")
			   						})
		          				.on("mouseout", function() {
									//Hide the tooltip
										d3.select("#tooltipEncPictografia").classed("hidden", true);
			   						})		          			
		          		d3.select("#TempGrupo").append("text").text("55 días").attr("align","left")
		          		
		          		///// Barcelona
		          		d3.select("#enc_bcn").append("div").classed("encMapa",true)
						d3.select(".encMapa").append("g").attr("id","MapaGrupo")
		          			.append("img").attr("src","img/icona_mapa_bcn-01.svg")
		          				//.attr("align","left")
		          				.attr("width","99%")//.classed("mapaBack","true")
		          				.on("mouseover", function() {
									//Hide the tooltip
										//d3.select("#tooltipMapa").classed("hidden", false);
										tooltipMapaBarcelona ("MapaGrupo")
			   						})
		          				.on("mouseout", function() {
									//Hide the tooltip
										d3.select("#tooltipMapa").classed("hidden", true);
			   						})
		          		
		          		/*d3.select("#MapaGrupo").selectAll("br").data([1,2,3,4,5,6]).enter()
		          			.append("br").attr("align","right")*/
		          		d3.select("#enc_bcn").append("div").classed("encInfra",true)
		          		
		          		d3.select(".encInfra").append("g").attr("id","iconosInfra")
		          		
		          		d3.select("#iconosInfra").append("img").attr("src","img/icona_aeroport-01.svg")
		          				.attr("id","iAeropuerto")
		          				//.attr("align","right")
		          				.attr("width","80%")
		          				.attr("onmouseover","tooltipsInfraestructuras('iAeropuerto')")
		          				.on("mouseout", function() {
									//Hide the tooltip
										d3.select("#tooltipEncInfraestructuras").classed("hidden", true);
			   						})
		          				//.classed("iconosTransporteFront","true")
		          		d3.select("#iconosInfra").append("br")
		          		d3.select("#iconosInfra").append("img").attr("src","img/icona_bus-01.svg")
		          				.attr("id","iAutobus")
		          				//.attr("align","right")
		          				.attr("width","80%")
		          				.attr("onmouseover","tooltipsInfraestructuras('iAutobus')")
		          				.on("mouseout", function() {
									//Hide the tooltip
										d3.select("#tooltipEncInfraestructuras").classed("hidden", true);
			   						})
		          		d3.select("#iconosInfra").append("br")
		          		d3.select("#iconosInfra").append("img").attr("src","img/icona_tren-01.svg")
		          				.attr("id","iFerrocarril")
		          				//.attr("align","right")
		          				.attr("width","80%")
		          				.attr("onmouseover","tooltipsInfraestructuras('iFerrocarril')")
		          				.on("mouseout", function() {
									//Hide the tooltip
										d3.select("#tooltipEncInfraestructuras").classed("hidden", true);
			   						})
		          		d3.select("#iconosInfra").append("br")
						d3.select("#iconosInfra").append("img").attr("src","img/icona_ports-01.svg")
		          				.attr("id","iPuerto")
		          				//.attr("align","right")
		          				.attr("width","80%")
		          				.attr("onmouseover","tooltipsInfraestructuras('iPuerto')")
		          				.on("mouseout", function() {
									//Hide the tooltip
										d3.select("#tooltipEncInfraestructuras").classed("hidden", true);
			   						})
		          		///// Habitants
		          		d3.select("#enc_bcn").append("div").classed("encHabitant",true)
		          		d3.select(".encHabitant").append("g").attr("id","HabitantGrupo")
		          		d3.select("#HabitantGrupo").append("img")
		          			.attr("src","img/icona_homa_dona-01.svg")
		          				.attr("width","25%")
		          				.attr("id","PicPerfilHabitante")
		          				.on("mouseover", function() {
									//Hide the tooltip
										//d3.select("#tooltipMapa").classed("hidden", false);
										tooltipsPictografia ("PicPerfilHabitante")
			   						})
		          				.on("mouseout", function() {
									//Hide the tooltip
										d3.select("#tooltipEncPictografia").classed("hidden", true);
			   						})

		          		d3.select("#HabitantGrupo").append("br")
		          		d3.select("#HabitantGrupo").append("text").text("53% Mujeres")
		          		d3.select("#HabitantGrupo").append("br")
		          		d3.select("#HabitantGrupo").append("text").text("29% 40-59 años")
		          		d3.select("#HabitantGrupo").append("br")
		          		d3.select("#HabitantGrupo").append("text").text("83% españoles")
		          		d3.select("#HabitantGrupo").append("br")
		          		d3.select("#HabitantGrupo").append("text").text("16% tasa de paro")
		          		d3.select("#HabitantGrupo").append("br")
		          		d3.select("#HabitantGrupo").append("text").text("21.870€ salario anual")


					</SCRIPT>
					

				</div>
				
			</DIV>
			<DIV id="enc_turismo">
				<h1>TURISMO</h1>
				<!--<img height="80px" src="img/Lisa_Simpson_-_Snowball.svg"/> html5 el valor de height and width debe ser en pixels-->
				<script type="text/javascript">
						///// Turista
	          		
		          		d3.select("#enc_turismo").append("div").classed("encTurista",true)
		          		d3.select(".encTurista").append("g").attr("id","TuristaGrupo")
		          		d3.select("#TuristaGrupo").append("img")
		          			.attr("src","img/icona_turista-01.svg")
		          				.attr("width","35%")
		          				.attr("id","PicPerfilTurista")
		          				.on("mouseover", function() {
									//Hide the tooltip
										//d3.select("#tooltipMapa").classed("hidden", false);
										tooltipsPictografia ("PicPerfilTurista")
			   						})
		          				.on("mouseout", function() {
									//Hide the tooltip
										d3.select("#tooltipEncPictografia").classed("hidden", true);
			   						})
		          		d3.select("#TuristaGrupo").append("br")
		          		d3.select("#TuristaGrupo").append("text").text("8.988.038 Turistas")
		          		d3.select("#TuristaGrupo").append("br")
		          		d3.select("#TuristaGrupo").append("text").text("66% procedentes CEE")
		          		d3.select("#TuristaGrupo").append("br")
		          		d3.select("#TuristaGrupo").append("text").text("62% hombres")
		          		d3.select("#TuristaGrupo").append("br")
		          		d3.select("#TuristaGrupo").append("text").text("76,6€/dia gasto medio")
		          		///// Alojamiento
		          		d3.select("#enc_turismo").append("div").classed("encAlojamiento",true)
		          		d3.select(".encAlojamiento").append("g").attr("id","AlojamientoGrupo")
		          		d3.select("#AlojamientoGrupo").append("img")
		          			.attr("src","img/icona_llit-01.svg")
		          				.attr("width","35%")
		          				.attr("id","PicAlojamiento")
		          				.on("mouseover", function() {
									//Hide the tooltip
										//d3.select("#tooltipMapa").classed("hidden", false);
										tooltipsPictografia ("PicAlojamiento")
			   						})
		          				.on("mouseout", function() {
									//Hide the tooltip
										d3.select("#tooltipEncPictografia").classed("hidden", true);
			   						})
		          		d3.select("#AlojamientoGrupo").selectAll("br")
		          			.data([1,2]).enter().append("br")
		          		d3.select("#AlojamientoGrupo").append("text").text("125.472 plazas")
		          		d3.select("#AlojamientoGrupo").append("br")
		          		d3.select("#AlojamientoGrupo").append("text").text("58% hoteles")
		          		d3.select("#AlojamientoGrupo").append("br")
		          		d3.select("#AlojamientoGrupo").append("text").text("69% ocupación anual")
		          		
		          		///// Sector
		          		d3.select("#enc_turismo").append("div").classed("encSector",true)
		          		d3.select(".encSector").append("g").attr("id","SectorGrupo")
		          		d3.select("#SectorGrupo").append("img")
		          			.attr("src","img/icona_hosteleria-01.svg")
		          				.attr("width","17%")
		          				.attr("id","PicSectorHostelería")
		          				.on("mouseover", function() {
									//Hide the tooltip
										//d3.select("#tooltipMapa").classed("hidden", false);
										tooltipsPictografia ("PicSectorHostelería")
			   						})
		          				.on("mouseout", function() {
									//Hide the tooltip
										d3.select("#tooltipEncPictografia").classed("hidden", true);
			   						})
		          		d3.select("#SectorGrupo").append("br")
		          		d3.select("#SectorGrupo").append("text").text("13% PIB Barcelona")
		          		d3.select("#SectorGrupo").append("br")
		          		d3.select("#SectorGrupo").append("text").text("58% de los Trabajadores")
		          		d3.select("#SectorGrupo").append("br")
		          		d3.select("#SectorGrupo").append("text").text("14.944€ salario anual")
		          		


				</script>
			</DIV>
			
		</div>
		<div id="menu" class="menuDiv" >		
			<br>
			<h3 id="menuBarcelona" class="mainTitleMenu noSeleccionable">BARCELONA</h3>
			<h5 id="menuClima" class="subTitleMenu" draggable="true" ondragstart="drag(event)" onmouseover="tooltipMenuPpalShow('menuClima')" onmouseout="tooltipMenuPpalHide('menuClima')">Clima y Superfície</h5>
			<h5 id="menuInfraestructuras" class="subTitleMenu" draggable="true" ondragstart="drag(event)" onmouseover="tooltipMenuPpalShow('menuInfraestructuras')" onmouseout="tooltipMenuPpalHide('menuInfraestructuras')">Infraestructuras</h5>
			<h5 id="menuPoblacion" class="subTitleMenu" draggable="true" ondragstart="drag(event)"onmouseover="tooltipMenuPpalShow('menuPoblacion')" onmouseout="tooltipMenuPpalHide('menuPoblacion')">Población</h5>
			<h5 id="menuVivienda" class="subTitleMenu" draggable="true" ondragstart="drag(event)"onmouseover="tooltipMenuPpalShow('menuVivienda')" onmouseout="tooltipMenuPpalHide('menuVivienda')">Vivienda</h5>
			<h5 id="menuEconomia" class="subTitleMenu" draggable="true" ondragstart="drag(event)"onmouseover="tooltipMenuPpalShow('menuEconomia')" onmouseout="tooltipMenuPpalHide('menuEconomia')">Economia</h5>
			<br>
		

			<h3 id="menuTurismo" class="mainTitleMenu noSeleccionable">TURISMO</h3>
			<h5 id="menuTurista" class="subTitleMenu" draggable="true" ondragstart="drag(event)"onmouseover="tooltipMenuPpalShow('menuTurista')" onmouseout="tooltipMenuPpalHide('menuTurista')">Turista</h5>
			<h5 id="menuTurAlojamiento" class="subTitleMenu" draggable="true" ondragstart="drag(event)"onmouseover="tooltipMenuPpalShow('menuTurAlojamiento')" onmouseout="tooltipMenuPpalHide('menuTurAlojamiento')">Alojamiento</h5>
			<h5 id="menuTurCultural" class="subTitleMenu" draggable="true" ondragstart="drag(event)"onmouseover="tooltipMenuPpalShow('menuTurCultural')" onmouseout="tooltipMenuPpalHide('menuTurCultural')">Oferta Cultural</h5>

			<h5 id="menuTurReuniones" class="subTitleMenu" draggable="true" ondragstart="drag(event)"onmouseover="tooltipMenuPpalShow('menuTurReuniones')" onmouseout="tooltipMenuPpalHide('menuTurReuniones')">Turismo de Reuniones</h5>
			

			<!--<BUTTON onclick="CreateUnGrafico()">1 gráfico</BUTTON>
			<BUTTON onclick= "CreateDosGraficos()">2 gráficos</BUTTON>
			<BUTTON onclick="CreateCuatroGraficos ()">4 gráficos</BUTTON>
			<br>
			<BUTTON onclick="BorrarTodo()">BORRAR TODO</BUTTON>-->


		</div>
		<div id="areaGraficos">
			<div id="gr4_1" class="grafico4" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
			
			<div id="gr4_2" class="grafico4" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
			
			
			<div id="gr4_3" class="grafico4" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
			
			
			<div id="gr4_4" class="grafico4" ondrop="drop(event)" ondragover="allowDrop(event)"></div>

						
		</div>	
			<div id="menuFiltros" class="navDiv" >
				<div id="instruccionesDiv" align="center">
					<script type="text/javascript">
						d3.select("#instruccionesDiv").style("background-color","#848484").append("button")
							.style("margin","2px").style("font-size","10px")
							.text("Instrucciones de funcionamiento")
					</script>
					
				</div>	
				<div id="controlVentanas" align="center"> 
				<script type="text/javascript">
						d3.select("#controlVentanas").append("br")
						d3.select("#controlVentanas").append("button")
							.attr("class","BotonCtrlVentana").text("4 gráficos").style("font-size","8px").attr("onmousedown","CreateCuatroGraficos()")
						d3.select("#controlVentanas").append("button")
							.attr("class","BotonCtrlVentana").text("2 gráficos").style("font-size","8px").attr("onmousedown","CreateDosGraficos()")
						d3.select("#controlVentanas").append("button")
							.attr("class","BotonCtrlVentana").text("1 gráficos").style("font-size","8px")
							.attr("onmousedown","CreateUnGrafico()")
						d3.select("#controlVentanas").append("button")
							.attr("class","BotonCtrlVentana").text("BORRAR").style("font-size","8px")
							.attr("onmousedown","BorrarTodo()")
					</script>

				</div>
				<div id="vistas4" align="center">
					<script type="text/javascript">
						d3.select("#vistas4").append("br")
						d3.select("#vistas4").selectAll("button").data([1,2]).enter().append("button")
							.attr("class","blue").attr("id",function(d,i){return "window4"+d})
							.attr("onmousedown", function(d,i){return ("seleccionWindow4(event,'window4" + d +"')") })
						d3.select("#vistas4").append("br")
						d3.select("#vistas4").selectAll("button").data([5,6,3,4]).enter().append("button")
							.attr("class","blue").attr("id",function(d){return "window4"+d})
							.attr("onmousedown", function(d){return ("seleccionWindow4(event,'window4" + d +"')") })
						
						d3.select("#window41").append("span")
						d3.select("#window42").append("span")
						d3.select("#window43").append("span")
						d3.select("#window44").append("span")
					</script>
					<!--<button id="window41" class="blue" onmousedown="seleccionWindow4(event,'window41')"><span></span></button>
					<button id="window42" class="blue" onmousedown="seleccionWindow4(event,'window42')"><span></span></button>
					<br>
					<button id="window43" class="blue" onmousedown="seleccionWindow4(event,'window43')"><span></span></button>
					<button id="window44" class="blue" onmousedown="seleccionWindow4(event,'window44')"><span></span></button>-->
				</div>	

			<div id="navegadorDiv" class="navDiv" >
				<div id="espacioBotones" class="botonesNav">
					
				</div>

			</div></div>

</body>
</html>